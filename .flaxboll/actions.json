{"1765544021973":{"actionType":"saveAll","createdAt":"1765544021973","actionID":"1765544021973","userID":"#TEMP","path":"system.capsules.ee274317-dbe8-476f-acfb-d43f34554aa2.capsUseCodeInfo.capsUseInputs.ccc_screen-0.capsIptTxtValue","oldValue":"a1AdmDash","newValue":"b1mobileDash"},"1765544021974":{"actionType":"saveAll","createdAt":"1765544021974","actionID":"1765544021974","userID":"#TEMP","path":"system.capsules.4579f280-2dfa-4c8b-a85f-19e4459f7009.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"() => {\n  const email = tools.getCtData(\"sc.a0.login.forms.email\");\n  const password = tools.getCtData(\"sc.a0.login.forms.password\");\n  const users = tools.getCtData(\"sc.adm.login.db.users\") || [];\n\n  const setMessage = (msg) => {\n    tools.functions.setVar({\n      args: '',\n      pass: { keyPath: [\"sc.adm.login.message\"], value: [msg] }\n    });\n  };\n\n  if (!email || email.trim() === \"\") {\n    setMessage(\"Por favor, preencha o e-mail.\");\n    return;\n  }\n\n  if (!password || password.trim() === \"\") {\n    setMessage(\"Por favor, preencha a senha.\");\n    return;\n  }\n\n  const userMatch = users.find(\n    (user) => user.userEmail === email && user.userPassword === password\n  );\n\n  if (!userMatch) {\n    setMessage(\"E-mail ou senha incorretos.\");\n    return;\n  }\n\n  const sessionPath = \"sc.adm.session.user\";\n  const sessionData = { keyPath: [sessionPath], value: [userMatch] };\n  tools.functions.setVar({ args: \"\", pass: sessionData });\n\n  setMessage(\"Login realizado com sucesso!\");\n\n  tools.goTo(\"a1AdmDash\");\n\nsetMessage(\"\");\n}","newValue":"() => {\n  const email = tools.getCtData(\"sc.a0.login.forms.email\");\n  const password = tools.getCtData(\"sc.a0.login.forms.password\");\n  const users = tools.getCtData(\"sc.adm.login.db.users\") || [];\n\n  const setMessage = (msg) => {\n    tools.functions.setVar({\n      args: '',\n      pass: { keyPath: [\"sc.adm.login.message\"], value: [msg] }\n    });\n  };\n\n  if (!email || email.trim() === \"\") {\n    setMessage(\"Por favor, preencha o e-mail.\");\n    return;\n  }\n\n  if (!password || password.trim() === \"\") {\n    setMessage(\"Por favor, preencha a senha.\");\n    return;\n  }\n\n  const userMatch = users.find(\n    (user) => user.userEmail === email && user.userPassword === password\n  );\n\n  if (!userMatch) {\n    setMessage(\"E-mail ou senha incorretos.\");\n    return;\n  }\n\n  const sessionPath = \"sc.adm.session.user\";\n  const sessionData = { keyPath: [sessionPath], value: [userMatch] };\n  tools.functions.setVar({ args: \"\", pass: sessionData });\n\n  setMessage(\"Login realizado com sucesso!\");\n\n  tools.goTo(\"b1mobileDash\");\n\nsetMessage(\"\");\n}"}}