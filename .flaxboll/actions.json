{"1758554947651":{"actionType":"saveAll","createdAt":"1758554947651","actionID":"1758554947651","userID":"#TEMP","path":"system.capsules.31c8b616-3bda-4da0-9949-90ba7dd483b5.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"(callback) => {\n  // Remove tudo que n칚o seja n칰mero, ponto\n  let newValue = callback.replace(/[^0-9.,]/g, \"\");\n\n  // Permitir apenas n칰meros e pontos\n  newValue = newValue.replace(/[^0-9.,]/g, \"\");\n\n  // Atualizar a vari치vel no Flaxboll\n  tools.functions.setVar({\n    args: \"\",\n    pass: {\n      keyPath: [\"sc.a3.iptsChanges.price\"],\n      value: [newValue]\n    }\n\t});\n\t\n// Verificar se existe algum n칰mero v치lido\n  if (newValue === \"\" || !/[0-9]/.test(newValue)) {\n    // Salvar mensagem de aviso\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.a3.priceMessage\"],\n        value: [\"Pre칞o inv치lido.\"]\n      }\n    });\n  } else {\n    // Limpar mensagem caso o valor seja v치lido\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.a3.priceMessage\"],\n        value: [\"\"]\n      }\n    });\n  }\n\n\n\n  console.log(\"Pre칞o digitado:\", newValue);\n}\n","newValue":"(callback) => {\n  // Remove tudo que n칚o seja n칰mero\n  let numeric = callback.replace(/\\D/g, \"\");\n\n  // Se n칚o tiver nada, define como \"0\"\n  if (numeric === \"\") numeric = \"0\";\n\n  // Converte para n칰mero inteiro em centavos\n  let intValue = parseInt(numeric, 10);\n\n  // Divide por 100 e formata em reais\n  let formatted = (intValue / 100).toFixed(2).replace(\".\", \",\");\n\n  // Adiciona o prefixo R$\n  formatted = \"R$ \" + formatted;\n\n  // Atualizar a vari치vel no Flaxboll\n  tools.functions.setVar({\n    args: \"\",\n    pass: {\n      keyPath: [\"sc.a3.iptsChanges.price\"],\n      value: [formatted]\n    }\n  });\n\n  // Mensagem de valida칞칚o\n  if (intValue === 0) {\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.a3.priceMessage\"],\n        value: [\"Pre칞o inv치lido.\"]\n      }\n    });\n  } else {\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.a3.priceMessage\"],\n        value: [\"\"]\n      }\n    });\n  }\n\n  console.log(\"游눯 Pre칞o digitado:\", formatted);\n}\n"}}