{"1755115046367":{"actionType":"saveAll","createdAt":"1755115046367","actionID":"1755115046367","userID":"#TEMP","path":"system.capsules.41c7efbe-7542-4338-b097-c42f117a8e17.capsUseCodeInfo.capsUseDescription.en","oldValue":"","newValue":"( ) => {\nconst handleFileUpload = async () => {\n  try {\n    // 1. Pick a file from device\n    const pickerResult = await DocumentPicker.pickSingle({\n      type: [DocumentPicker.types.images, DocumentPicker.types.pdf],\n      copyTo: 'cachesDirectory'\n    });\n\n    // 2. Get file details\n    const { uri, name, type } = pickerResult;\n    \n    // 3. Create Firebase Storage reference\n    const storageRef = storage().ref(`uploads/${name}`);\n    \n    // 4. Upload file to Firebase\n    const task = storageRef.putFile(uri, {\n      contentType: type\n    });\n\n    // 5. Monitor upload progress\n    task.on('state_changed', \n      snapshot => {\n        const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n        console.log(`Upload is ${progress}% done`);\n      },\n      error => {\n        console.error('Upload failed:', error);\n      },\n      () => {\n        // Upload completed successfully\n        storageRef.getDownloadURL().then(url => {\n          console.log('File available at:', url);\n          // Handle success (e.g., save URL to database)\n        });\n      }\n    );\n\n  } catch (err) {\n    if (DocumentPicker.isCancel(err)) {\n      console.log('User cancelled the picker');\n    } else {\n      console.error('Error:', err);\n    }\n  }\n}\n }"}}