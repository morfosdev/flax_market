{"1769025171142":{"actionType":"saveAll","createdAt":"1769025171142","actionID":"1769025171142","userID":"#TEMP","path":"system.capsules.c995e2b3-8359-4e86-825d-32f95ccfdc1c.capsUseCodeInfo.capsUseInputs.sss_custom_caps_el-0.capsIptTxtValue","oldValue":"() => {\n  // pegamos o array e transformamos em número para o slider\n  const maxPriceArr = tools.getCtData(\"sc.C2.filters.maxPrice\") ?? [0];\n  const maxPrice = maxPriceArr[0];\n\n  const parsePrice = (priceStr) => {\n    if (!priceStr) return 0;\n    return Number(\n      priceStr\n        .replace(\"R$\", \"\")\n        .replace(/\\./g, \"\")\n        .replace(\",\", \".\")\n        .trim()\n    );\n  };\n\n  const applyPriceFilter = () => {\n    const fullList = tools.getCtData(\"sc.c1.list\") || [];\n\n    const filtered = fullList.filter(item => {\n      const productPrice = parsePrice(item.price);\n      return productPrice <= maxPrice;\n    });\n\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.c1.filteredList\"],\n        value: filtered\n      }\n    });\n\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.C2.toggles.filteredList\"],\n        value: true\n      }\n    });\n  };\n\n  return (\n    <div style={{ width: \"100%\", padding: 16 }}>\n      <div style={{ marginBottom: 8, fontSize: 16, fontWeight: 600 }}>\n        Filtrar por preço máximo:\n      </div>\n\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"1000\"\n        step=\"1\"\n        value={maxPrice} \n        onChange={(e) => {\n          const value = Number(e.target.value);\n\n          // salvamos como array no Flaxboll\n          tools.functions.setVar({\n            args: \"\",\n            pass: {\n              keyPath: [\"sc.C2.filters.maxPrice\"],\n              value: [value]\n            }\n          });\n\n          // força re-render do componente\n          tools.functions.forceUpdate();\n        }}\n\n\n        style={{ width: \"100%\" }}\n      />\n\n      <div style={{ marginTop: 8, fontSize: 14, color: \"#444\" }}>\n        R$ {maxPrice}\n      </div>\n\n      <div\n        style={{\n          marginTop: 16,\n          padding: \"10px 16px\",\n          borderRadius: 8,\n          background: \"#2563eb\",\n          color: \"white\",\n          textAlign: \"center\",\n          fontWeight: 600,\n          cursor: \"pointer\",\n        }}\n        onClick={applyPriceFilter}\n      >\n        Aplicar filtro\n      </div>\n    </div>\n  );\n}\n","newValue":"() => {\n  // pegamos o array e transformamos em número para o slider\n  const maxPriceArr = tools.getCtData(\"sc.C2.filters.maxPrice\") ?? [0];\n  const maxPrice = maxPriceArr[0];\n\n  const parsePrice = (priceStr) => {\n    if (!priceStr) return 0;\n    return Number(\n      priceStr\n        .replace(\"R$\", \"\")\n        .replace(/\\./g, \"\")\n        .replace(\",\", \".\")\n        .trim()\n    );\n  };\n\n  const applyPriceFilter = () => {\n    const fullList = tools.getCtData(\"sc.c1.list\") || [];\n\n    const filtered = fullList.filter(item => {\n      const productPrice = parsePrice(item.price);\n      return productPrice <= maxPrice;\n    });\n\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.c1.filteredList\"],\n        value: filtered\n      }\n    });\n\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.C2.toggles.filteredList\"],\n        value: true\n      }\n    });\n  };\n\n  return (\n    <div style={{ width: \"100%\", padding: 16 }}>\n      <div style={{ marginBottom: 8, fontSize: 16, fontWeight: 600 }}>\n        Filtrar por preço máximo:\n      </div>\n\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"1000\"\n        step=\"1\"\n        value={maxPrice} \n        onChange={(e) => {\n          const value = Number(e.target.value);\n\n          // salvamos como array no Flaxboll\n          tools.functions.setVar({\n            args: \"\",\n            pass: {\n              keyPath: [\"sc.C2.filters.maxPrice\"],\n              value: [value]\n            }\n          });\n\n          // força re-render do componente\n          tools.functions.forceUpdate();\n        }}\n\n\n        style={{ width: \"100%\" }}\n      />\n\n      <div style={{ marginTop: 8, fontSize: 14, color: \"#444\" }}>\n        R$ {maxPrice}\n      </div>\n\n      <div\n        style={{\n          marginTop: 16,\n          padding: \"10px 16px\",\n          borderRadius: 8,\n          background: \"#2563eb\",\n          color: \"white\",\n          textAlign: \"center\",\n          fontWeight: 600,\n          cursor: \"pointer\",\n        }}\n        onClick={applyPriceFilter}\n      >\n        Aplicar filtro\n      </div>\n    </div>\n  );\n}"}}