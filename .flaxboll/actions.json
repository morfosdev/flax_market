{"1755881078501":{"actionType":"saveAll","createdAt":"1755881078501","actionID":"1755881078501","userID":"#TEMP","path":"system.capsules.16598b04-57af-4216-886c-a2c32e48d3c4.capsUseCodeInfo.capsUseDescription.en","oldValue":"() => {\n  // 1. Create input dynamically to select file\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \"image/*\"; // change to \"*\" if you want any file\n\n  input.onchange = async (e) => {\n    const file = e.target.files[0];\n    if (!file) {\n      console.log(\"No file selected.\");\n      return;\n    }\n\n    try {\n      // 2. Firebase Storage reference\n      const storageRef = firebase.storage().ref();\n      const fileRef = storageRef.child(\"uploads/\" + file.name);\n\n      // 3. Upload file\n      const snapshot = await fileRef.put(file);\n\n      // 4. Get download URL\n      const url = await snapshot.ref.getDownloadURL();\n\n      console.log(\"File uploaded successfully. URL:\", url);\n\n      // Save URL into Flaxboll variable so you can use later\n      tools.functions.setVar({\n        args: \"\",\n        pass: {\n          keyPath: [\"sc.a4.uploadedFileUrl\"],\n          value: [url]\n        }\n      });\n\n    } catch (error) {\n      console.error(\"Upload error:\", error);\n    }\n  };\n\n  // Trigger the file input\n  input.click();\n}","newValue":"() => {\n  // 1. Create input dynamically to select file\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  input.accept = \"image/*\"; // change to \"*\" if you want any file\n\n  input.onchange = async (e) => {\n    const file = e.target.files[0];\n    if (!file) {\n      console.log(\"No file selected.\");\n      return;\n    }\n\n    try {\n      // 2. Firebase Storage reference\n      const storageRef = tools.functions.firebase.storage.ref();\n      const fileRef = storageRef.child(\"uploads/\" + file.name);\n\n      // 3. Upload file\n      const snapshot = await fileRef.put(file);\n\n      // 4. Get download URL\n      const url = await snapshot.ref.getDownloadURL();\n\n      console.log(\"File uploaded successfully. URL:\", url);\n\n      // Save URL into Flaxboll variable so you can use later\n      tools.functions.setVar({\n        args: \"\",\n        pass: {\n          keyPath: [\"sc.a4.uploadedFileUrl\"],\n          value: [url]\n        }\n      });\n\n    } catch (error) {\n      console.error(\"Upload error:\", error);\n    }\n  };\n\n  // Trigger the file input\n  input.click();\n}"}}