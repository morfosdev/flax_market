{"1757961289344":{"actionType":"saveAll","createdAt":"1757961289344","actionID":"1757961289344","userID":"#TEMP","path":"system.capsules.7a92f4fe-4244-4a81-8768-cd761c82f76f.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"() => {\n  const db = tools.functions.firebase.firestore;\n  const imagesRef = db.collection(\"images\");\n\n  imagesRef.get()\n    .then(querySnapshot => {\n      const urls = [];\n      querySnapshot.forEach(doc => {\n        const data = doc.data();\n        if (data && data.url) urls.push(data.url);\n      });\n\n      // Salva a lista de URLs no Flaxboll\n      tools.functions.setVar({\n        args: \"\",\n        pass: {\n          keyPath: [\"sc.a3.productImagesOptions\"],\n          value: [urls]    \n        }\n      });\n\n      console.log(\"Imagens carregadas (Firestore):\", urls);\n    })\n    .catch(err => console.error(\"Erro ao buscar imagens do Firestore:\", err));\n}\n","newValue":"() => {\n  const db = tools.functions.firebase.firestore;\n  const imagesRef = db.collection(\"images\");\n\n  imagesRef.get()\n    .then(querySnapshot => {\n      const urls = [];\n      querySnapshot.forEach(doc => {\n        const data = doc.data();\n        if (data && data.url) urls.push(data.url);\n      });\n\n      // Salva a lista de URLs no Flaxboll\n      tools.functions.setVar({\n        args: \"\",\n        pass: {\n          keyPath: [\"sc.a3.productImagesOptions\"],\n          value: [urls]\n        }\n      });\n\n      console.log(\"Imagens carregadas (Firestore):\", urls);\n    })\n    .catch(err => console.error(\"Erro ao buscar imagens do Firestore:\", err));\n}\n"}}