{"1769022835828":{"actionType":"saveAll","createdAt":"1769022835828","actionID":"1769022835828","userID":"#TEMP","path":"system.capsules.c995e2b3-8359-4e86-825d-32f95ccfdc1c.capsUseCodeInfo.capsUseInputs.sss_custom_caps_el-0.capsIptTxtValue","oldValue":"() => {\n  // Valor atual do slider vindo do state\n  const maxPrice = tools.getCtData(\"sc.C2.filters.maxPrice\")?.[0] || 0;\n\n  // Fun√ß√£o interna para converter \"R$ 0,00\" => 0.00\n  const parsePrice = (priceStr) => {\n    if (!priceStr) return 0;\n\n    return Number(\n      priceStr\n        .replace(\"R$\", \"\")\n        .replace(/\\./g, \"\")\n        .replace(\",\", \".\")\n        .trim()\n    );\n  };\n\n  // Fun√ß√£o chamada ao clicar no bot√£o FILTRAR\n  const applyPriceFilter = () => {\n    const fullList = tools.getCtData(\"sc.c1.list\") || [];\n\n    const filtered = fullList.filter(item => {\n      const productPrice = parsePrice(item.price);\n      return productPrice <= maxPrice;\n    });\n\n    // Salva lista filtrada\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.c1.filteredList\"],\n        value: [filtered]\n      }\n    });\n\n    // Ativa o container da lista filtrada\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.C2.toggles.filteredList\"],\n        value: [true]\n      }\n    });\n\n    console.log(\"üîç Lista filtrada:\", filtered);\n  };\n\n  // Estilos simples\n  const container = { width: \"100%\", padding: \"16px\" };\n  const label = { marginBottom: \"8px\", fontSize: \"16px\", fontWeight: \"600\" };\n  const sliderValue = { marginTop: \"8px\", fontSize: \"14px\", color: \"#444\" };\n  const button = {\n    marginTop: \"16px\",\n    padding: \"10px 16px\",\n    borderRadius: \"8px\",\n    background: \"#2563eb\",\n    color: \"white\",\n    textAlign: \"center\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n  };\n\n  return (\n    <div style={container}>\n\n      {/* Label do slider */}\n      <div style={label}>Filtrar por pre√ßo m√°ximo:</div>\n\n      {/* Slider controlado pelo setVar */}\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"1000\"\n        step=\"1\"\n        value={maxPrice}\n        onChange={(e) => {\n          const value = Number(e.target.value);\n\n          tools.functions.setVar({\n            args: \"\",\n            pass: {\n              keyPath: [\"sc.C2.filters.maxPrice\"],\n              value: [value]\n            }\n          });\n        }}\n        style={{ width: \"100%\" }}\n      />\n\n      {/* Exibe R$ atualizado */}\n      <div style={sliderValue}>R$ {maxPrice}</div>\n\n      {/* Bot√£o para aplicar o filtro */}\n      <div\n        style={button}\n        onClick={applyPriceFilter}\n      >\n        Aplicar filtro\n      </div>\n\n    </div>\n  );\n}\n","newValue":"() => {\n  // Valor atual do slider vindo do state\n  const maxPrice = tools.getCtData(\"sc.C2.filters.maxPrice\")?.[0] || 0;\n\n  // Fun√ß√£o interna para converter \"R$ 0,00\" => 0.00\n  const parsePrice = (priceStr) => {\n    if (!priceStr) return 0;\n\n    return Number(\n      priceStr\n        .replace(\"R$\", \"\")\n        .replace(/\\./g, \"\")\n        .replace(\",\", \".\")\n        .trim()\n    );\n  };\n\n  // Fun√ß√£o chamada ao clicar no bot√£o FILTRAR\n  const applyPriceFilter = () => {\n    const fullList = tools.getCtData(\"sc.c1.list\") || [];\n\n    const filtered = fullList.filter(item => {\n      const productPrice = parsePrice(item.price);\n      return productPrice <= maxPrice;\n    });\n\n    // Salva lista filtrada\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.c1.filteredList\"],\n        value: [filtered]\n      }\n    });\n\n    // Ativa o container da lista filtrada\n    tools.functions.setVar({\n      args: \"\",\n      pass: {\n        keyPath: [\"sc.C2.toggles.filteredList\"],\n        value: [true]\n      }\n    });\n\n    console.log(\"üîç Lista filtrada:\", filtered);\n  };\n\n  // Estilos simples\n  const container = { width: \"100%\", padding: \"16px\" };\n  const label = { marginBottom: \"8px\", fontSize: \"16px\", fontWeight: \"600\" };\n  const sliderValue = { marginTop: \"8px\", fontSize: \"14px\", color: \"#444\" };\n  const button = {\n    marginTop: \"16px\",\n    padding: \"10px 16px\",\n    borderRadius: \"8px\",\n    background: \"#2563eb\",\n    color: \"white\",\n    textAlign: \"center\",\n    fontWeight: \"600\",\n    cursor: \"pointer\",\n  };\n\n  return (\n    <div style={container}>\n\n      {/* Label do slider */}\n      <div style={label}>Filtrar por pre√ßo m√°ximo:</div>\n\n      {/* Slider controlado pelo setVar */}\n      <input\n        type=\"range\"\n        min=\"0\"\n        max=\"1000\"\n        step=\"1\"\n        value={maxPrice}\n        onChange={(e) => {\n          const value = Number(e.target.value);\n\n          tools.functions.setVar({\n            args: \"\",\n            pass: {\n              keyPath: [\"sc.C2.filters.maxPrice\"],\n              value: [value]\n            }\n          });\n        }}\n        style={{ width: \"100%\" }}\n      />\n\n      {/* Exibe R$ atualizado */}\n      <div style={sliderValue}>R$ {maxPrice}</div>\n\n      {/* Bot√£o para aplicar o filtro */}\n      <div\n        style={button}\n        onClick={applyPriceFilter}\n      >\n        Aplicar filtro\n      </div>\n\n    </div>\n  );\n}"}}