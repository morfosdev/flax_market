{"1758304828402":{"actionType":"saveAll","createdAt":"1758304828402","actionID":"1758304828402","userID":"#TEMP","path":"system.capsules.12d29de7-d0d3-46f2-8d6f-aad8a4b9a815.capsUseCodeInfo.capsUseDescription.en","oldValue":"","newValue":"(callback) => {\n  const provider = new GoogleAuthProvider();\n\n  signInWithPopup(auth, provider)\n    .then(async result => {\n      const user = result.user;\n      console.log(\"Login Google:\", user.email);\n\n      // Salvar no Firestore (se nÃ£o existir)\n      const userDoc = await db.collection(\"users\").doc(user.uid).get();\n      if (!userDoc.exists) {\n        await db.collection(\"users\").doc(user.uid).set({\n          email: user.email,\n          createdAt: new Date()\n        });\n      }\n\n      // Salvar no contexto\n      tools.functions.setVar({\n        args: \"\",\n        pass: {\n          keyPath: [\"sc.session.user\"],\n          value: [{ email: user.email, uid: user.uid }]\n        }\n      });\n    })\n    .catch(err => {\n      console.error(\"Erro Google Login:\", err.message);\n    });\n}"}}